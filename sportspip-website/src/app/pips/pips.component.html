<div id="content">

  <div align="right">
    <mat-form-field>
      <mat-label>Filter</mat-label>
      <input #filterInput matInput type="search" placeholder="ex. Title, Sport, Skill">
    </mat-form-field>
    <mat-form-field style="padding-left: 50px;">
      <mat-label>Sort</mat-label>
      <select #sortSelect matNativeControl>
        <option value="dt_up_asc">Uploaded (Newest)</option>
        <option value="dt_up_des">Uploaded (Oldest)</option>
        <option value="dt_cr_asc">Created (Newest)</option>
        <option value="dt_cr_des">Created (Oldest)</option>
      </select>
    </mat-form-field>
  </div>
  <div class="placeholder-container" align="center" *ngIf="!items.length">
    No item
  </div>
  <div class="flexcontainer">
    <div *ngFor="let item of items | sort: sortSelect.value | filter: filterInput.value; let idx = index"
      class="item-container">
      <mat-card>
        <img mat-card-image style="height: 140px; width: 220px; background-color:lightgray;" 
        [attr.src]="item.thumbnail[0] ? apiURL + item.thumbnail[0].url : ''">
        <mat-card-content style="margin-bottom: 0px;"> 
          <span style="font-size: 18px;overflow: hidden;text-overflow: ellipsis;"> {{item.metadata.Title}} </span>
        <br/>
          <div class="row-content">
            <span style="overflow: hidden;text-overflow: ellipsis; color: #555555;"> {{item.metadata.Sport}} / {{item.metadata.Skill}} </span>
            <span style="color: #555555;"> Views: {{item.metadata.Views}} </span>
          </div>
        </mat-card-content>
        <mat-card-actions align="end" >
          <p style="color: gray; flex: 1 1 auto; margin: 12px;">
            {{FormatDate(item.metadata.DateCreated) | date:'dd MMM yyyy'}} </p>
          <button mat-icon-button [matMenuTriggerFor]="appMenu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #appMenu="matMenu">
            <button mat-menu-item (click)="DeleteItem(item.id)">Delete</button>
          </mat-menu>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>

  <!-- <table mat-table [dataSource]="items" *ngIf="!loadingData" class="mat-elevation-z8" style="width: 100%;">
  
      <ng-container matColumnDef="Date">
        <th mat-header-cell *matHeaderCellDef> Date </th>
        <td mat-cell *matCellDef="let element"> {{FormatDate(element.metadata.DateCreated) | date:'dd MMM yyyy'}} </td>
      </ng-container>
  
      <ng-container matColumnDef="Title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let element"> {{element.metadata.Title}} </td>
      </ng-container>
  
      <ng-container matColumnDef="Sport">
        <th mat-header-cell *matHeaderCellDef> Sport </th>
        <td mat-cell *matCellDef="let element"> {{element.metadata.Sport}} </td>
      </ng-container>
  
      <ng-container matColumnDef="Skill">
        <th mat-header-cell *matHeaderCellDef> Skill </th>
        <td mat-cell *matCellDef="let element"> {{element.metadata.Skill}} </td>
      </ng-container>
  
      <ng-container matColumnDef="Views">
        <th mat-header-cell *matHeaderCellDef> Views </th>
        <td mat-cell *matCellDef="let element"> {{element.metadata.Views}} </td>
      </ng-container>
  
      <ng-container matColumnDef="Duration">
        <th mat-header-cell *matHeaderCellDef> Duration </th>
        <td mat-cell *matCellDef="let element"> {{element.metadata.Duration}} </td>
      </ng-container>

  
      <ng-container matColumnDef="DeleteAction">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element" style="text-align: center;">
          <button mat-icon-button color="warn" (click)="DeleteItem(element.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table> -->

  <mat-spinner *ngIf="loadingData" style="left: 45%;"></mat-spinner>