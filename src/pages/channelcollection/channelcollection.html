<!--
  Generated template for the Channelcollection page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar color="primary" no-border-bottom>
		<ion-title>{{channel}}</ion-title>
		<ion-buttons end>
			<button ion-button icon-only (click)="presentPopover($event)"><ion-icon name="funnel"></ion-icon></button>
		</ion-buttons>
	</ion-navbar>
	<ion-toolbar color="primary" no-border-top>
		<ion-searchbar (ionInput)="getSearchItems($event)"></ion-searchbar>
	</ion-toolbar>
</ion-header>

<ion-content style="background:#f1f1f1; position: relative;">
	<ion-row>
		<ion-col no-padding col-12 col-sm-6 col-lg-4 col-xl-3 *ngFor="let matrix of channelMatrices; let i = index">
			<ion-card (tap)="downloadMatrix(i,matrix)" (press)="channelMatrixPressed(i,matrix)">
				<ion-row>
					<ion-col no-padding [style.background-image]="retrunThumbnailPath(matrix.UploadID)" style="position: relative; height: 120px;background-size: cover;background-color:lightgray;background-position: center;">
						<ion-row style="position: absolute;top: 0;font-size: 2.0em;width: 100%;height: 100%;font-weight: bold;background-color: rgba(0,0,0,0.2);">
							<ion-col text-center align-self-center>
								<button ion-button icon-left clear color="light" style="font-size: 20px; font-weight: bold;"><ion-icon name="download"></ion-icon>Download</button>
							</ion-col>
						</ion-row>
					</ion-col>
				</ion-row>
				<ion-row>
					<ion-col no-padding>
						<ion-card-content style="padding:5px 10px 2px 10px ">
							<ion-row>
								<ion-col no-padding style="font-size: 18px;overflow: hidden;text-overflow: ellipsis;">
									{{matrix.Title}}
								</ion-col>
								<ion-col no-padding align-self-center text-right col-auto>
									<p>{{FormatDate(matrix.DateCreated)}}</p>
								</ion-col>
							</ion-row>
							<ion-row>
								<ion-col no-padding style="overflow: hidden;text-overflow: ellipsis;">
									{{matrix.Sport}}/{{matrix.Skill}}
								</ion-col>
								<ion-col no-padding align-self-center text-right col-auto>
									<!--<p>{{formatDuration(matrix.Duration)}}</p>-->
									<p>{{matrix.Views}}</p>
								</ion-col>
							</ion-row>
						</ion-card-content>
					</ion-col>
				</ion-row>
			</ion-card>
		</ion-col>
	</ion-row>
	<div class="centered-item-container" *ngIf="!(channelMatrices.length > 0) && !refreshing">
		<ion-note>No matrix exists</ion-note>
	</div>
</ion-content>